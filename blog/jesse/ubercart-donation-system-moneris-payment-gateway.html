<!DOCTYPE html>
<!--[if IEMobile 7]><html class="iem7" lang="en" dir="ltr"><![endif]-->
<!--[if lte IE 6]><html class="lt-ie9 lt-ie8 lt-ie7" lang="en" dir="ltr"><![endif]-->
<!--[if (IE 7)&(!IEMobile)]><html class="lt-ie9 lt-ie8" lang="en" dir="ltr"><![endif]-->
<!--[if IE 8]><html class="lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if (gte IE 9)|(gt IEMobile 7)]><!--><html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# schema: http://schema.org/"><!--<![endif]-->

<!-- Mirrored from openconcept.ca/blog/jesse/ubercart-donation-system-moneris-payment-gateway by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Oct 2020 16:24:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<!--[if IE]><![endif]-->
<meta charset="utf-8" />
<link rel="shortcut icon" href="../../sites/default/files/favicon_0.ico" type="image/vnd.microsoft.icon" />
<meta name="abstract" content="Hopefully this blog entry will help a few people overcome some of the hurdles in setting up a donati" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="MobileOptimized" content="width" />
<meta name="robots" content="follow, index" />
<meta name="HandheldFriendly" content="true" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<meta http-equiv="content-language" content="en" />
<meta property="fb:admins" content="openconcept" />
<meta property="fb:admins" content="kik.side" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@openconcept_ca" />
<meta name="twitter:site:id" content="229468736" />
<meta name="twitter:creator" content="@openconcept_ca" />
<meta name="twitter:creator:id" content="229468736" />
<meta name="twitter:url" content="ubercart-donation-system-moneris-payment-gateway.html" />
<meta name="twitter:title" content="Ubercart as a donation system + Moneris as a Payment Gateway" />
<meta name="twitter:description" content="Hopefully this blog entry will help a few people overcome some of the hurdles in setting up a donati" />
<meta itemprop="name" content="Ubercart as a donation system + Moneris as a Payment Gateway" />
<title>Blog: Ubercart as a donation system + Moneris as a Payment Gateway | OpenConcept</title>
<link type="text/css" rel="stylesheet" href="../../sites/default/files/advagg_css/css__Fk6ib8vGzlld1Z-3iMHxBRa3_Z-wnv0p_-pqQEXhv1o__QUdxuXWKI0XTsPl3jjnljuEsAhlG7QC3Qj3tVSTDO_I__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../sites/default/files/advagg_css/css__0kxo9a_7V-NXmMFyEka9ww5_KAh62JvVq0T_opEsnYI__yLupVjjUulT7jR2cTAx-8AnjCJEZttCLm-N5GL51cAg__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../sites/default/files/advagg_css/css__WQ3VIViemVu1z3pxCt1hYihEFTVqdm3SgqDmHAifCF8__8pEWrNOJbuWWcn2CXCq6Id8yS_eivMQaAg37yz85fmk__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.css" media="all" />
<link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato%7CArimo:400,700italic,400italic,700" media="all" />

<!--[if (lt IE 9)&(!IEMobile 7)]>
<link type="text/css" rel="stylesheet" href="/sites/default/files/advagg_css/css__L_hl_g5koAwf-tcMQbO0rF6TiioG2sSDkJP6VhlrJSE__Jt_t77XXAGMXO_thFaLEyXIrOahPFnRwr5VH4gzy-Wc__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.css" media="screen" />
<![endif]-->
<style>#sliding-popup.sliding-popup-bottom,#sliding-popup.sliding-popup-bottom .eu-cookie-withdraw-banner,.eu-cookie-withdraw-tab{background:#0779bf}#sliding-popup.sliding-popup-bottom.eu-cookie-withdraw-wrapper{background:transparent}#sliding-popup .popup-content #popup-text h1,#sliding-popup .popup-content #popup-text h2,#sliding-popup .popup-content #popup-text h3,#sliding-popup .popup-content #popup-text p,#sliding-popup label,#sliding-popup div,.eu-cookie-compliance-secondary-button,.eu-cookie-withdraw-tab{color:#fff !important}.eu-cookie-withdraw-tab{border-color:#fff}.eu-cookie-compliance-more-button{color:#fff !important}</style>
<script>(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../sites/default/files/googleanalytics/analyticse5f5.js?qinvx1","ga");ga("create", "UA-190532-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");</script>
</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-1541 node-type-blog site-name-hidden site-name-openconcept section-blog">
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page" class="page">

  <!-- region: Leaderboard -->
  
 <div class="focus">
  <header id="header" class="clearfix" role="banner">
          <!-- start: Branding -->
      <div id="branding" class="branding-elements clearfix">

                  <div id="logo">
            <a href="../../index.html" title="Home page"><img class="site-logo image-style-none" typeof="foaf:Image" src="../../sites/default/files/oclogo_0.png" alt="OpenConcept" /></a>          </div>
        
                  <!-- start: Site name and Slogan hgroup -->
          <hgroup class="element-invisible" id="name-and-slogan">

                          <h1 class="element-invisible" id="site-name"><a href="../../index.html" title="Home page">OpenConcept</a></h1>
            
            
          </hgroup><!-- /end #name-and-slogan -->
        
      </div><!-- /end #branding -->
    
    <!-- region: Header -->
    
  <div id="menu-bar" class="nav clearfix"><nav id="block-system-main-menu" class="block block-system block-menu no-title menu-wrapper menu-bar-wrapper clearfix odd first last block-count-1 block-region-menu-bar block-main-menu"  role="navigation">  
  
  <ul class="menu clearfix"><li class="first expanded menu-depth-1 menu-item-777"><a href="../../about.html" title="">About</a><ul class="menu clearfix"><li class="first leaf menu-depth-2 menu-item-981"><a href="../../who-we-are.html">Who we are</a></li><li class="leaf menu-depth-2 menu-item-782"><a href="../../values.html">Our Values</a></li><li class="leaf menu-depth-2 menu-item-783"><a href="../../community.html" title="Our involement with the BCorp Community.">Community</a></li><li class="last leaf menu-depth-2 menu-item-862"><a href="../../careers.html">Careers</a></li></ul></li><li class="collapsed menu-depth-1 menu-item-778"><a href="../../support.html">Services</a></li><li class="leaf menu-depth-1 menu-item-787"><a href="../../just-vision.html" title="">Our Work</a></li><li class="collapsed menu-depth-1 menu-item-1187"><a href="../../drupal.html">Drupal</a></li><li class="expanded menu-depth-1 menu-item-781"><a href="../../news.html" title="">News</a><ul class="menu clearfix"><li class="first leaf menu-depth-2 menu-item-979"><a href="../../events.html">Events</a></li><li class="leaf menu-depth-2 menu-item-980"><a href="../../blog.html" title="">Blogs</a></li><li class="last leaf menu-depth-2 menu-item-1212"><a href="../../news/news-releases.html">News Releases</a></li></ul></li><li class="last leaf menu-depth-1 menu-item-614"><a href="../../contact.html">Contact Us</a></li></ul>
  </nav></div>  <div id="primary-menu-bar" class="nav clearfix nav clearfix"><nav  class="primary-menu-wrapper menu-wrapper clearfix primary-menu-wrapper menu-wrapper clearfix"><h2 class="element-invisible">Main menu</h2><ul class="menu primary-menu clearfix"><li class="menu-777 first"><a href="../../about.html" title="">About</a></li><li class="menu-778"><a href="../../support.html">Services</a></li><li class="menu-787"><a href="../../just-vision.html" title="">Our Work</a></li><li class="menu-1187"><a href="../../drupal.html">Drupal</a></li><li class="menu-781"><a href="../../news.html" title="">News</a></li><li class="menu-614 last"><a href="../../contact.html">Contact Us</a></li></ul></nav></div>
  </header>
 </div>

  <!-- Navigation elements -->
  
  <!-- Breadcrumbs -->
  
  <!-- Messages and Help -->
    
  <!-- region: Secondary Content -->
  
  <div id="columns" class="columns clearfix">
    <div id="content-column" class="content-column" role="main">
      <div class="content-inner">

        <!-- region: Highlighted -->
        

        <section id="main-content"  class="focus">
          
                      <header id="main-content-header" class="clearfix">



              
            </header>
          
          <!-- region: Main Content -->
                      <div id="content" class="region">
              <div id="block-system-main" class="block block-system no-title odd first last block-count-2 block-region-content block-main" >  
  
  <div class="panel-display panel-1col clearfix" >
  <div class="panel-panel panel-col">
    <div><div class="panel-pane pane-node-title no-title block" id="blog-node-title">
  <div class="block-inner clearfix">
    
            
    
    <div class="block-content">
      <h1>Ubercart as a donation system + Moneris as a Payment Gateway</h1>
    </div>

    
    
  </div>
</div>
<div class="panel-separator"></div><section class="panel-pane pane-node-author block" id="blog-node-author">
  <div class="block-inner clearfix">
    
              <h2 class="pane-title block-title">By: </h2>
        
    
    <div class="block-content">
      <a href="../../users/jesse.html" title="View user profile." class="username" xml:lang="" about="/users/jesse" typeof="sioc:UserAccount" property="foaf:name" datatype="">jesse</a>    </div>

    
    
  </div>
</section>
<div class="panel-separator"></div><section class="panel-pane pane-token pane-node-created block" id="blog-node-viewed">
  <div class="block-inner clearfix">
    
              <h2 class="pane-title block-title">on </h2>
        
    
    <div class="block-content">
      July 16, 2010    </div>

    
    
  </div>
</section>
<div class="panel-separator"></div><div class="panel-pane pane-node-body no-title block" id="blog-body">
  <div class="block-inner clearfix">
    
            
    
    <div class="block-content">
      <div class="field field-name-body field-type-text-with-summary field-label-hidden view-mode-_custom_display"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Hopefully this blog entry will help a few people overcome some of the hurdles in setting up a donations system. We are a drupal shop so all the following is for drupal 6.</p>
<p>In this case the client simply wanted to have a way to collect donations from supporters of their political campaign. The only real constraint was that it needed to integrate with the Moneris payment gateway system. I was looking at creating a custom donation system and integration to Moneris, but in the end opted to use Ubercart. Ubercart is an awesome beast of a Shopping cart system that has many great features and useful contribs, 90% of which I did not need to take advantage of. However, Ubercart, in an extremely stripped down form, looked like it could offer everything I needed in terms of accepting and tracking donations. There was also an existing UC Moneris contrib module that looked pretty simple.</p>
<p>What you will find in this blog</p>
<ul>
<li><a href="#uc_modules">Modules you can use to set up a donations system</a></li>
<li><a href="#uc_config">Initial Setup and Configurations to disguise Ubercart Orders as donations</a></li>
<li><a href="#uc_custom">Custom code to further change the look of Ubercart</a></li>
<li><a href="#uc_moneris">Trials and tribulations of integrating Moneris as a payment gateway</a></li>
</ul>
<p> </p>
<p> </p>
<p>Modules you can use to set up a donations system</p>
<ol>
<li><a href="http://drupal.org/project/ubercart" title="link to ubercart module">Ubercart <em>+ optional sub-modules</em></a>
<ul>
<li>uc-core(optional): Reports</li>
<li>uc-payments:Test Gateway</li>
</ul>
</li>
<li><a href="http://drupal.org/project/uc_donation" title="link to ubercart donation products">Ubercart Donation Products</a></li>
<li><a href="http://drupal.org/project/uc_moneris" title="link to Moneris Payment Gateway for Ubercart">Moneris Payment Gateway for Ubercart</a></li>
<li><a href="http://drupal.org/project/css_injector" title="link to CSS Injector">CSS Injector</a></li>
</ol>
<p>Depending on how you serve drupal sites will determine where you should place the Ubercart modules. The site I was working on was on a multi-site install where different clients have user accounts for their respective sites. For this reason I installed Ubercart under the <em>sites/{sitename}/modules</em> directory. An install of Ubercart already existed in <em>sites/all/modules</em> which I could have easily used. However, to change the email templates, Ubercart requires that they reside in its .../ubercart/uc_orders/templates directory. So for the sake of this site's privacy I installed it locally so that no other site could be configured to use the same email templates.</p>
<p>It doesn't matter where you install the other modules.</p>
<p>Simpley enable the 'ubercart donation products', 'css injector', 'moneris Payment gateway for ubercart' <em>- or other payment gateways you will be using</em>, 'test gateway' and 'reports' modules. By default Drupal will want to enable the rest of the Ubercart module/functionality that you need. Doing it this way will enable the minimum set of modules you will need for your donation system.</p>
<p><strong>BTW</strong> - There is also a donations page module that comes with 'ubercart donation products' that you can enable to display a page of all your donations. I only had the one so it wasn't needed.</p>
<p> </p>
<p>Initial Setup and Configurations to disguise Ubercart Orders as donations</p>
<p>The following are helpful examples of the settings I used.</p>
<p>Donation Product Settings</p>
<p>There is now a new 'Donation' content type courtesy of the 'Ubercart donation product' module. You will want to create a new node of this type for each donation category you want to have on your site: <em>node/add/donation</em>. Again, I just had the one.</p>
<p><strong>Setting</strong><strong>Value</strong>Name<em>Donation</em>SKU<em>DONATION</em>Product and its derivatives are shippable.<em>'un-checked'</em>Default quantity to add to cart<em>leave blank to disable qty field</em>URL path settings<em>donate</em></p>
<p>Ubercart Settings</p>
<p>Since Ubercart is a big monster it has many many settings. Too many to go through in detail, but I will add, that on top of what is listed below, you should also search through all the configuration categories found in <em>admin/store/settings</em>. Many of these are messages to the user, so for each occurance of 'order', 'orders' or 'products' that you see, replace them with 'donation' or 'donations'. This makes the checkout process more tuned to a donation system rather then a shopping cart.</p>
<p>Cart Settings: <em>admin/store/settings/cart/edit</em></p>
<p><strong>Setting</strong><strong>Value</strong>Continue shopping element display<em>+ none</em>Custom cart breadcrumb text<em>donate</em>Custom cart breadcrumb URL<em>donate</em></p>
<p>Checkout Settings: <em>admin/store/settings/checkout/edit</em></p>
<p><strong>Setting</strong><strong>Value</strong>Enable checkout<em>Enabled</em>Enable anonymous checkout<em>Enabled</em>Hide shipping information when possible<em>Enabled</em>Use collapsing checkout panes<em>Disabled</em>Collapse a pane when its..<em>Disabled</em>Send new customers a separate e-mail<em>Disabled</em>Login users when new customer accounts<em>Disabled</em>New customer accounts will be set to active.<em>Up to you?</em></p>
<p>Checkout Panes: <em>admin/store/settings/checkout/edit/panes</em></p>
<p><strong>Setting</strong><strong>Value</strong>Cart contents<em>Disabled</em>Customer information<em>Enabled</em>Delivery information<em>Disabled</em>Billing information<em>Enabled</em>Payment method<em>Enabled</em>Order comments<em>Up to you?</em>Require e-mail confirmation ... anonymous<em>Up to you?</em>Allow anonymous customers to specify a new user account name<em>Up to you?</em>Allow anonymous customers to specify a new user account password<em>Up to you?</em>Show the order total preview on the payment pane<em>Disabled</em></p>
<p>Checkout Messages: <em>admin/store/settings/checkout/edit/messages</em></p>
<p>Replace all occurrences of 'order(s)' with 'donation(s)'</p>
<p>Order Settings: <em>admin/store/settings/orders/edit</em></p>
<p>The setting on this page that you will most likely want to change is <em>'On-site invoice template'</em>. This is the template that will be used when the user views thier invoice. See the instructions below on <a href="#custom-templates" title="goto creating custom email templates">creating custom email templates</a>.</p>
<p>Order Workflow: <em>admin/store/settings/orders/edit/workflow</em></p>
<p><strong>Setting</strong><strong>Value</strong>in_checkout<em>Title: Entering Information</em></p>
<p>Order Panes: <em>admin/store/settings/orders/edit/panes</em></p>
<p>Here you will most likely want to disable the 'ship to' pane under each category.</p>
<p>Payment Settings: <em>admin/store/settings/payment/edit</em></p>
<p><strong>Setting</strong><strong>Value</strong>Default payment details message<em>Continue with your donation to complete payment</em></p>
<p>payment Method Settings: <em>admin/store/settings/payment/edit/methods</em></p>
<ul>
<li>Credit Card - Default Gateway:</li>
<li>
<ul>
<li>'Test Gateway' for initial tests</li>
<li>Your preferred live payment Gateway for live/test transactions</li>
<li>Moneris.com in my case</li>
</ul>
</li>
<li>Credit Card settings</li>
<li>
<ul>
<li>Card number encryption key filepath: This is required before you can proceed through the checkout. Otherwise you will get an error at checkout. Use something like /home/keys.</li>
<li>Operate in credit card debug mode: Enabled for testing. Disabled for live.</li>
<li>Validate credit card numbers at checkout: Enable for testing cc transactions and when you go live. If disabled then the checkout process will complete without processing the cc information and the order status will remain pending.</li>
<li>Enable CVV text field on checkout form: Enable to include a field to process the 3 digit secure code on the cc</li>
<li>Credit card payment policy: Change 'orders' to donations.</li>
<li>Card processing failure message: Change 'order' to donation.</li>
</ul>
</li>
</ul>
<p>Payment Gateway settings: <em>admin/store/settings/payment/edit/gateways</em></p>
<p>Specific details for the Moneris system follow below in the <a href="#uc_moneris">'Trials and tribulations of integrating Moneris as a payment gateway'</a> section.</p>
<p><strong>Setting</strong><strong>Value</strong>Enable this payment gateway for use<em>'Enable' for each gateway you wish to use.</em></p>
<p>Store Display Settings: <em>admin/store/settings/store/edit/display</em></p>
<p><strong>Setting</strong><strong>Value</strong>Display type for the main store administration page<em>Dashboard with collapsed sub-menu links</em>Primary customer address<em>Billing address</em>Footer message for store pages<em>(Do not display a message in the footer.)</em></p>
<p> </p>
<p>Custom code to further change the look of Ubercart</p>
<p>At this point we have changed as much of the configurable elements of Ubercart as 'humanly possible', so its time to delve into the code because certain things like the title of the "Shopping Cart" and form field names cannot be configured. I won't go through every single thing that I did, but I will try to give a good example of each type of modification.</p>
<p>CSS Injector overrides for page titles</p>
<p>Since we are trying to create a 'donation' system, some of the Ubercart page titles don't exactly lend well. "Shopping cart" isn't exactly the tone we want to set when trying to recieve a donation. There is definitely a programatic way to change the titles using the theme system, but I opted for quick and simple. CSS Injector allows you to do exactly what its name eludes to, inject css for configured pages.</p>
<p>Here is how:</p>
<ol>
<li>Create a new CSS Injector rule: <em>admin/settings/css_injector/add</em></li>
<li>Set the css code to: <em>.section h1.title { display:none; }</em></li>
<li>Select + Add on only the listed pages</li>
<li>Set Pages to:
<ul>
<li>cart</li>
<li>cart/checkout/review</li>
<li>cart/checkout/complete</li>
</ul>
</li>
<li>Enable the 'Preprocess CSS' box.</li>
</ol>
<p>Creating the above rule will hide the titles on the given pages. Now we want to replace them with new more suitable titles. To do this I just created three blocks. One for each page. I used</p>
<p>Your Donations</p>
<p>,</p>
<p>Review Donation</p>
<p>and</p>
<p>Donation Complete</p>
<p>respectively and added them to the 'Content Top' block region.</p>
<p> </p>
<p>Creating custom email templates</p>
<p>At certain times, like upon checkout, completion emails are sent out. Ubercart formats these emails using defined templates. You can create your own templates to change the look and content of the emails. Ubercart has two default templates that are found in <em>ubercart/uc_order/templates</em>: admin.tpl.php and customer.tpl.php. There are many references to 'order' and 'products' and 'shopping' that I didn't want included in the emails that were being sent out so I copied and modified the customer template and saved it in the same location as donation.itpl.php.</p>
<p>There are several places where you will want to configure Ubercart to use the new customized template. One as mentioned above is when the user views thier invoice online. Configure this at <em>admin/store/settings/orders/edit</em>. Also, there are some pre-defined 'conditional actions' whose action it is to send out the emails. They are listed here: <em>admin/store/ca</em>. Essentially you will want to 'edit' each one that has Email in its title and then click on the actions tab. More specifically you will want to edit <em>admin/store/ca/uc_checkout_customer_notification/edit/actions</em> and select 'donation' as the 'Invoice template'. The other conditional actions that are sending emails are not using templates, but will have references of 'order' that you might want to change to 'donation'.</p>
<p> </p>
<p>Overriding Ubercart form functions</p>
<p>Pretty much all of the Ubercart forms have fields that I wanted to rename for the sake of making it look more donation centered. A good example is the cart form. Its form id is <strong>'uc-cart-view-form'</strong>. This form had three items I wanted to override. The 'products' and 'Qty' fields and the 'Update cart' button. I figured at first that I would be able to use <strong><em>hook_form_FormID_alter</em></strong> to change these fields, but it turns out that Ubercart defines its own Table API called tapi that it uses to build tables and links into forms. Tapi forms can not be overridden using <strong><em>hook_form_FormID_alter</em></strong> but they can be using <strong><em>hook_form_alter</em></strong> and you can filter based on its callback function. I actually went a different route, because I found this out after the fact. In my theme's template.php file. I added the following code:</p>
<pre>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><pre style="font-family: monospace; font-weight: normal; font-style: normal"><span style="color: #009933; font-style: italic;">/** * Implementation of HOOK_theme(). */</span> 
<span style="color: #000000; font-weight: bold;">function</span> yourtheme_theme<span style="color: #009900;">(</span><span style="color: #339933;">&amp;</span><span style="color: #000088;">$existing</span><span style="color: #339933;">,</span> <span style="color: #000088;">$type</span><span style="color: #339933;">,</span> <span style="color: #000088;">$theme</span><span style="color: #339933;">,</span> <span style="color: #000088;">$path</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span> 
  <span style="color: #000088;">$hooks</span> <span style="color: #339933;">=</span> <span style="color: #990000;">array</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// note for zen themes use: $hooks = zen_theme($existing, $type, $theme, $path); </span>
  <span style="color: #666666; font-style: italic;">// Add your theme hooks like this: </span>
  <span style="color: #666666; font-style: italic;">/* $hooks['hook_name_here'] = array( // Details go here ); */</span> 
  <span style="color: #000088;">$hooks</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'uc_cart_view_form'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <span style="color: #990000;">array</span><span style="color: #009900;">(</span><span style="color: #0000ff;">'arguments'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #990000;">array</span><span style="color: #009900;">(</span><span style="color: #0000ff;">'form'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span> 
  <span style="color: #000088;">$hooks</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'uc_cart_checkout_form'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <span style="color: #990000;">array</span><span style="color: #009900;">(</span><span style="color: #0000ff;">'arguments'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #990000;">array</span><span style="color: #009900;">(</span><span style="color: #0000ff;">'form'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">return</span> <span style="color: #000088;">$hooks</span><span style="color: #339933;">;</span> 
<span style="color: #009900;">}</span> 
  <span style="color: #666666; font-style: italic;">/* Implementation of hook_uc_cart_view_form() * * modify the ubercart view form. */</span> 
<span style="color: #000000; font-weight: bold;">function</span> yourtheme_uc_cart_view_form<span style="color: #009900;">(</span><span style="color: #000088;">$form_state</span><span style="color: #339933;">,</span> <span style="color: #000088;">$items</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span> 
  <span style="color: #666666; font-style: italic;">//override some form items to customize for donations </span>
  <span style="color: #b1b100;">if</span><span style="color: #009900;">(</span><span style="color: #990000;">isset</span><span style="color: #009900;">(</span><span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'items'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#columns'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'image'</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'items'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#columns'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'image'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'cell'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">"Donations"</span><span style="color: #339933;">;</span> 
  <span style="color: #b1b100;">if</span><span style="color: #009900;">(</span><span style="color: #990000;">isset</span><span style="color: #009900;">(</span><span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'items'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#columns'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'qty'</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'items'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#columns'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'qty'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'cell'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">""</span><span style="color: #339933;">;</span>
  <span style="color: #b1b100;">if</span><span style="color: #009900;">(</span><span style="color: #990000;">isset</span><span style="color: #009900;">(</span><span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'checkout'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#value'</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'checkout'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#value'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">"Continue"</span><span style="color: #339933;">;</span> 
  <span style="color: #b1b100;">if</span><span style="color: #009900;">(</span><span style="color: #990000;">isset</span><span style="color: #009900;">(</span><span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'update'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#value'</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #000088;">$form_state</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'update'</span><span style="color: #009900;">]</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'#value'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">"Update Donations"</span><span style="color: #339933;">;</span> 
  <span style="color: #000088;">$output</span> <span style="color: #339933;">=</span> drupal_render_form<span style="color: #009900;">(</span><span style="color: #0000ff;">'uc_cart_view_form'</span><span style="color: #339933;">,</span><span style="color: #000088;">$form_state</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span> 
 
  <span style="color: #b1b100;">return</span> <span style="color: #000088;">$output</span><span style="color: #339933;">;</span> 
<span style="color: #009900;">}</span></pre></div>
</div>
</pre><p>In the above code I first register a higher priority override function for the uc_cart_view_form rendering function. This means that the theme system will use my function for displaying the Ubercart cart view form.</p>
<p>The theme system looks for my override function as uc_cart_view_form but preceded by my theme name. In my function I do the following:</p>
<ol>
<li>change the products (image) field to "Donations."</li>
<li>Disable the field title for the quantity(Qty) field</li>
<li>Change the text of the 'Update cart' button to "Update Donations".</li>
</ol>
<p> </p>
<p>You can use this same technique to override any of the other Ubercart forms.</p>
<p><strong>Note:</strong> Ubercart uses the "value" param of its forms' buttons to determine how to process the form and where to go next. Thus, this does not lend itself to allowing you to easily override the button text. I chose to simply leave it the way it was. However, say you wanted to change the text of the "checkout" button to "submit donations". If you use my method above to override the checkout button it will not go to the checkout page because the processing submit function, <em>uc_cart_view_form_submit</em>, switches based on the value "checkout". Instead of continuing to the checkout page, it will simply stay on the same page. This happens when I override the Update button as well, but in that case it doesn't matter, because I'm just sending it back to the same page anyway, so the update button still works.</p>
<p>If you were really ademant that the button needs to be overriden then you would have to change the button text as in the above method, then register your own submit function for that form. In your submit override you would have to alter the incomming <em>$form</em> and <em>$form_state</em> variables so that the values returned as 'op' (the button name) specify "checkout" rather then "submit discount" and pass them along to Ubercart's implementation of <em>uc_cart_view_form_submit</em>.</p>
<p> </p>
<p>Trials and tribulations of integrating Moneris as a payment gateway</p>
<p>My troubles with integrating Moneris as a payment gateway actually had nothing to do with the <strong>uc_moneris</strong> module and its configuration, but more with Moneris itself and their out-dated convoluted documentation and lack of knowledgeable tech support people. Here are some pointers/facts that may save you a whole lot of time:</p>
<ul>
<li>First you will actully need a user account to be able to read their API documentation. Go to <a href="http://www.eselectplus.ca/en/downloadable-content" target="_blank">http://www.eselectplus.ca/en/downloadable-content</a> and click 'New User Registration'. It will take a few days before they send you your login credentials.</li>
<li>Once you have access to the documentation you can at least set up your system to <strong>test</strong> your donation system using Moneris.</li>
<li>Not all the relevant information is in the same documents and the links in thier documents are outdated and no longer work. If you are looking for a particular document then you should be able to find it somewhere on the site under 'downloadable content'.</li>
<li><strong>NOTE:</strong> Before you start testing know that the <strong>penny value</strong>, yes penny value, of the transaction you are performing will determine the outcome of the test. Moneris uses the penny value to reject, accept, decline, etc. your test transactions. Also, depending on the test 'StoreId' you use you can test certain scenarios. For example if you want to test acceptance of a fake credit card's cvd value, you have to use their specific test 'storeId', 'API key' and 'Credit card #' It will save you a lot of time to look through some of the documentation below especially the ones that map penny values to return codes.</li>
<li>Here is a list of useful documents and what they tell you:
<ul>
<li>Integration Guide - general -&gt; PHP Api : The most useful information in this document is a list of test 'storeIds', 'API Keys' and test 'credit card numbers'. It also describes some of the return codes and what they mean.</li>
<li>Others -&gt; Test Environment Penny Value Response Table : Contains all the mappings between specific Credit Card Numbers, penny values and Response codes.</li>
<li>Others -&gt; Test Environment CVD/AVS ResultTable : Contains all the mappings between specific penny values and response codes when you are using their very specific 'StoreId' and cc# that is configured to accept efraud(CVD/AVS) verifications. This is for testing the three digit code on the back of your credit card.</li>
<li>Others -&gt; PCI-DSS Implementation Guide : Essentially outlines what they require in terms of security on your site before they will allow you to start using thier service. This includes an ssl certificate, statement of privacy for your users, regular third party security scans of your site to verify PCI compliance. <a href="http://web.archive.org/web/20080517081146/http://www.mcafeesecure.com/us/pci-intro.jsp" target="_blank">Mcaffee offers this for $319/yr</a> there are others out there as well.</li>
</ul>
</li>
<li>To do real transactions you will need to purchase a <strong>Merchant Account</strong>. Once they have approved your application, which can take up-to several weeks, they will send you your Merchant Id and Store Id if you have signed up for e-commerce.</li>
<li>Now, to actually submit a transaction you require a 'StoreId' and an 'API key'. They send you the store id after your application is accepted, but to get an API key, you need to log into your merchant account and 'Activate your store'. Then you get your API key.</li>
<li><strong>BTW</strong>, No tech support person or documentation ever explained this simple stuff and it made it incredibly frustrating as a first time implementer of a Moneris solution.</li>
</ul>
<p>As for configuration of the <em>uc_moneris</em> module for Drupal, it is quite simple.</p>
<p>Moneris.com settings: <em>admin/store/settings/payment/edit/gateways</em></p>
<p><strong>Setting</strong><strong>Value</strong>API Version<em>Canada or United States</em>Store ID<em>your StoreId or test StoreId</em>API Token<em>Matching API token</em>Transaction type to use<em>Purchase</em>CVV/CVD Required<em>Required if you purchased this feature from Moneris</em>Use Address Verification (AVS)<em>Required if you purchased this feature from Moneris</em>Enable VBV (Verified by VISA)<em>Required if you purchased this feature from Moneris</em>Enable VBV Strict Mode<em>Disabled</em>Transaction mode</p>
<ul>
<li><em>Test sends transactions to Moneris Sandbox</em></li>
<li><em>Production to send live transactions to moneris.com</em></li>
</ul>
<p> </p>
<p>Good Luck and all the best with setting up your own Donations system. :)</p>
</div></div></div>    </div>

    
    
  </div>
</div>
<div class="panel-separator"></div><div class="panel-pane pane-node-terms no-title block" id="blogTopicList">
  <div class="block-inner clearfix">
    
            
    
    <div class="block-content">
      <ul class="links"><li class="taxonomy_term_104 first last"><a href="../../topic/security.html" rel="tag" title="">Security</a></li></ul>    </div>

    
    
  </div>
</div>
<div class="panel-separator"></div><section class="panel-pane pane-block pane-service-links-service-links block" id="blog-services-links">
  <div class="block-inner clearfix">
    
              <h2 class="pane-title block-title">Share this article</h2>
        
    
    <div class="block-content">
      <div class="service-links"><a href="https://www.facebook.com/sharer.php" title="Share this post on Facebook" class="service-links-facebook-share" rel="https://openconcept.ca/blog/jesse/ubercart-donation-system-moneris-payment-gateway" target="_blank"><span class="element-invisible">Share on Facebook</span></a> <a href="ubercart-donation-system-moneris-payment-gateway.html" title="Share on Linkedin" class="service-links-linkedin-share-button" rel="nofollow" target="_blank"><span class="element-invisible">Linkedin Share Button</span></a> <a href="ubercart-donation-system-moneris-payment-gateway.html" title="Plus it" class="service-links-google-plus-one" rel="nofollow" target="_blank"><span class="element-invisible">Google Plus One</span></a> <a href="https://reddit.com/submit?url=https%3A//openconcept.ca/blog/jesse/ubercart-donation-system-moneris-payment-gateway&amp;title=Ubercart%20as%20a%20donation%20system%20%2B%20Moneris%20as%20a%20Payment%20Gateway" title="Submit this post on reddit.com" class="service-links-reddit" rel="nofollow" target="_blank"><img typeof="foaf:Image" class="image-style-none" src="../../sites/all/modules/contrib/service_links/images/reddit.png" alt="Reddit logo" /></a> <a href="https://twitter.com/share?url=https%3A//openconcept.ca/blog/jesse/ubercart-donation-system-moneris-payment-gateway&amp;text=Ubercart%20as%20a%20donation%20system%20%2B%20Moneris%20as%20a%20Payment%20Gateway" title="Share this on Twitter" class="service-links-twitter" rel="nofollow" target="_blank"><img typeof="foaf:Image" class="image-style-none" src="../../sites/all/modules/contrib/service_links/images/twitter.png" alt="Twitter logo" /></a></div>    </div>

    
    
  </div>
</section>
<div class="panel-separator"></div><section class="panel-pane pane-views pane-posts-by-same-author block">
  <div class="block-inner clearfix">
    
              <h2 class="pane-title block-title">Posts By Author</h2>
        
    
    <div class="block-content">
      <div class="view view-posts-by-same-author view-id-posts_by_same_author view-display-id-default view-dom-id-d0eeb2d1d3da1b8649c207433d7d919b">
        
  
  
      <div class="view-content">
        <div class="views-row views-row-1 views-row-odd views-row-first">
      
  <div class="views-field views-field-title">        <span class="field-content"><a href="oc-spring-vegetable-gardens.html">OC spring Vegetable Gardens</a></span>  </div>  </div>
  <div class="views-row views-row-2 views-row-even">
      
  <div class="views-field views-field-title">        <span class="field-content"><a href="multiple-language-domains-made-easy.html">Multiple language domains made easy</a></span>  </div>  </div>
  <div class="views-row views-row-3 views-row-odd views-row-last">
      
  <div class="views-field views-field-title">        <span class="field-content"><a href="making-drupal-7-form-field-elements-more-accessible-aria-describedby-links.html">Making Drupal 7 form field elements more</a></span>  </div>  </div>
    </div>
  
  
  
  
  
  
</div>    </div>

    
    
  </div>
</section>
<div class="panel-separator"></div><section class="panel-pane pane-views pane-related-posts block">
  <div class="block-inner clearfix">
    
              <h2 class="pane-title block-title">Related Posts</h2>
        
    
    <div class="block-content">
      <div class="view view-related-posts view-id-related_posts view-display-id-default view-dom-id-534c36d2dd7fbf24a0c79704cba5d9a6">
        
  
  
      <div class="view-content">
        <div class="views-row views-row-1 views-row-odd views-row-first">
      
  <div class="views-field views-field-title">        <span class="field-content"><a href="chase-paymentech-module-ubercart.html">Chase Paymentech Module for Ubercart</a></span>  </div>  </div>
  <div class="views-row views-row-2 views-row-even">
      
  <div class="views-field views-field-title">        <span class="field-content"><a href="../mike/how-procurement-can-shape-software.html">How Procurement Can Shape Software</a></span>  </div>  </div>
  <div class="views-row views-row-3 views-row-odd views-row-last">
      
  <div class="views-field views-field-title">        <span class="field-content"><a href="../mgifford/badware-prevention-and-website-security.html">Badware Prevention and Website Security</a></span>  </div>  </div>
    </div>
  
  
  
  
  
  
</div>    </div>

    
    
  </div>
</section>
<div class="panel-separator"></div><div class="panel-pane pane-node-comment-wrapper no-title block">
  <div class="block-inner clearfix">
    
            
    
    <div class="block-content">
      <section id="comments" class="comment-wrapper">

  
  
  
</section>
    </div>

    
    
  </div>
</div>
</div>
  </div>
</div>

  </div>            </div>
          
          <!-- Feed icons (RSS, Atom icons etc -->
          
          
        </section><!-- /end #main-content -->

        <!-- region: Content Aside -->
        
      </div><!-- /end .content-inner -->
    </div><!-- /end #content-column -->

    <!-- regions: Sidebar first and Sidebar second -->
        
  </div><!-- /end #columns -->

  <!-- region: Tertiary Content -->
  
  <!-- region: Footer -->
     <div id="footer-wrapper">
    <footer id="footer" class="clearfix" role="contentinfo">
      <div class="region region-footer"><div class="region-inner clearfix"><div id="block-block-14" class="block block-block no-title odd first block-count-3 block-region-footer block-14" ><div class="block-inner clearfix">  
  
  <div class="block-content content"><p> </p>
<h2 class="rtecenter"><strong>Interested in digital accessibility? <a href="https://mailchi.mp/133e3c60c3f6/accessibility-action" style="color:white;">Sign up today to our monthly Accessibility Action Newsletter!</a></strong></h2>
<p> </p>
</div>
  </div></div><div id="block-panels-mini-location-get-in-touch-follow-us" class="block block-panels-mini no-title even block-count-4 block-region-footer block-location-get-in-touch-follow-us" >  
  
  <div class="block-content content"><div class="at-panel panel-display three-3x33 clearfix" id="mini-panel-location_get_in_touch_follow_us">
    <div class="region region-three-33-first">
    <div class="region-inner clearfix">
      <div class="panel-pane pane-block pane-block-8 no-title block">
  <div class="block-inner clearfix">
    
            
    
    <div class="block-content">
      <h3 class="rtecenter">LOCATION</h3>
<div class="rtecenter">
<p>571 Somerset Street West<br />
Ottawa ON K1R 5K1<br />
Canada</p>
</div>
<p class="rtecenter"> </p>
    </div>

    
    
  </div>
</div>
    </div>
  </div>
  <div class="region region-three-33-second">
    <div class="region-inner clearfix">
      <div class="panel-pane pane-block pane-block-6 no-title block">
  <div class="block-inner clearfix">
    
            
    
    <div class="block-content">
      <h3 class="rtecenter">GET IN TOUCH</h3>
<p class="rtecenter"><a href="tel:+16136866736">613-686-6736</a> (OPEN)<br />
<a href="mailto:info@openconcept.ca" style="font-size: 13px; line-height: 1.6em;">info@openconcept.ca</a><br />
<a href="../../careers.html" style="font-size: 13px; line-height: 1.6em;">Careers</a></p>
    </div>

    
    
  </div>
</div>
    </div>
  </div>
  <div class="region region-three-33-third">
    <div class="region-inner clearfix">
      <div class="panel-pane pane-block pane-block-7 no-title block">
  <div class="block-inner clearfix">
    
            
    
    <div class="block-content">
      <h3 class="rtecenter">FOLLOW US</h3>
<div class="clipwrapper rtecenter" style=" position: relative;height: 40px;width: 260px; margin:0 auto;">

<a href="https://twitter.com/openconcept_ca" target="_blank" rel=”noopener noreferrer”>
<img alt="Visit us on Twitter" src="../../sites/openconcept/themes/oc2014/images/social-media-sprites-2.png" style="width: 260px; height: 45px; position: absolute; top: -5px; left: -41px; clip: rect(0 122px 50px 83px);"></a>

<a href="https://www.linkedin.com/company/1703911?trk=prof-0-ovw-curr_pos"  target="_blank" rel=”noopener noreferrer”>
<img alt="Visit us on Linkedin" src="../../sites/openconcept/themes/oc2014/images/social-media-sprites-2.png" style="width: 260px; height: 45px; position: absolute; top: -5px; left: -36px; clip: rect(0 162px 50px 130px);"></a>

<a href="https://www.facebook.com/OpenConcept-Consulting-Inc-657846390931051/?fref=ts"  target="_blank" rel=”noopener noreferrer”>
<img alt="Visit us on facebook" src="../../sites/openconcept/themes/oc2014/images/social-media-sprites-2.png" style="width: 260px; height: 45px; position: absolute; top: -5px; left: -69px; clip: rect(0 250px 50px 213px);"></a>

<a href="https://github.com/OpenConceptConsulting"  target="_blank" rel=”noopener noreferrer”>
<img alt="GitHub Logo" src="../../sites/openconcept/themes/oc2014/images/github.svg" style="width: 45px; height: 45px; position: absolute; top: -5px; left: 194px;" width="45px" height="45px"></a>

</div>    </div>

    
    
  </div>
</div>
    </div>
  </div>
  </div>
</div>
  </div><div id="block-menu-menu-footer-menu" class="block block-menu no-title odd last block-count-5 block-region-footer block-menu-footer-menu"  role="navigation"><div class="block-inner clearfix">  
  
  <div class="block-content content"><ul class="menu clearfix"><li class="first leaf menu-depth-1 menu-item-1264"><a href="../../about.html" title="">About</a></li><li class="leaf menu-depth-1 menu-item-1265"><a href="../../support.html" title="">Services</a></li><li class="leaf menu-depth-1 menu-item-1266"><a href="../../just-vision.html" title="">Our Work</a></li><li class="leaf menu-depth-1 menu-item-1267"><a href="../../drupal.html" title="">Drupal</a></li><li class="leaf menu-depth-1 menu-item-1582"><a href="../../blog.html" title="">Blog</a></li><li class="leaf menu-depth-1 menu-item-1269"><a href="../../contact.html" title="">Contact Us</a></li><li class="leaf menu-depth-1 menu-item-1270"><a href="../../accessibility-statement.html" title="">Accessibility</a></li><li class="leaf menu-depth-1 menu-item-1583"><a href="../../usage-policy.html" title="">Usage Policy</a></li><li class="last leaf menu-depth-1 menu-item-1614"><a href="../../privacy-policy.html" title="">Privacy</a></li></ul></div>
  </div></div></div></div>    </footer>
   </div>
  
</div>
  <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
<script>window.jQuery || document.write("<script src='../../sites/all/modules/contrib/jquery_update/replace/jquery/1.8/jquery.min.js'>\x3C/script>")</script>
<script src="../../sites/default/files/advagg_js/js__ZyeOaiFuDejQQbhUV7yg7atYZnj4WLfH77o0scv4068__MZdWWgUEYpsEWLcU0RqkaXMsEyksbpCgnf4XwXRkqz0__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.js"></script>
<script src="../../sites/default/files/advagg_js/js__44qQVp6ulaLPrJIjoRLLIy501C3bOwqOLi1eMfbACp4__dd_1_EUDtswm4KD7QBi4P6S37vtqiBQQKm4rxJlZ8Bo__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.js"></script>
<script src="https://platform.linkedin.com/in.js?async=true"></script>
<script src="../../sites/default/files/advagg_js/js__PFmX6LmbJhR5AXK3oxVx771eAlh3gBae5veSHu7Kdp8__3Zgq8YGzo8LGUG0JqhxghrjxbhL2GucalpYkbCPRyq0__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"oc2014","theme_token":"SoHYUMWTzYZAwuw8JKHBQAAH_ZaCe8AZbIEUPcoO3AU"},"ws_fs":{"type":"button","app_id":"150123828484431","css":"","locale":"en_US"},"ws_gpo":{"size":"medium","annotation":"","lang":"","callback":"","width":300},"ws_lsb":{"countmode":""},"better_exposed_filters":{"views":{"profile_picture":{"displays":{"default":{"filters":[]}}},"posts_by_same_author":{"displays":{"default":{"filters":[]}}},"related_posts":{"displays":{"default":{"filters":[]}}}}},"responsive_menus":[{"selectors":"#primary-menu-bar","container":"body","trigger_txt":"\u003Cspan \/\u003E\u003Cspan \/\u003E\u003Cspan \/\u003E","close_txt":"X","close_size":"18px","position":"right","media_size":"480","show_children":"1","expand_children":"1","expand_txt":"+","contract_txt":"-","remove_attrs":"1","responsive_menus_style":"mean_menu"}],"eu_cookie_compliance":{"popup_enabled":1,"popup_agreed_enabled":0,"popup_hide_agreed":0,"popup_clicking_confirmation":1,"popup_scrolling_confirmation":0,"popup_html_info":"\u003Cdiv class=\u0022eu-cookie-compliance-banner eu-cookie-compliance-banner-info eu-cookie-compliance-banner--default\u0022\u003E\n  \u003Cdiv class=\u0022popup-content info\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n      \u003Ch2\u003EWe use cookies on this site to enhance your user experience\u003C\/h2\u003E\n\u003Cp\u003EBy clicking any link on this page you are giving your consent for us to set cookies.\u003C\/p\u003E\n              \u003Cbutton type=\u0022button\u0022 class=\u0022find-more-button eu-cookie-compliance-more-button\u0022\u003ENo, give me more info\u003C\/button\u003E\n          \u003C\/div\u003E\n    \n    \u003Cdiv id=\u0022popup-buttons\u0022 class=\u0022\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022agree-button eu-cookie-compliance-default-button\u0022\u003EOK, I agree\u003C\/button\u003E\n          \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E","use_mobile_message":false,"mobile_popup_html_info":"\u003Cdiv class=\u0022eu-cookie-compliance-banner eu-cookie-compliance-banner-info eu-cookie-compliance-banner--default\u0022\u003E\n  \u003Cdiv class=\u0022popup-content info\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n                    \u003Cbutton type=\u0022button\u0022 class=\u0022find-more-button eu-cookie-compliance-more-button\u0022\u003ENo, give me more info\u003C\/button\u003E\n          \u003C\/div\u003E\n    \n    \u003Cdiv id=\u0022popup-buttons\u0022 class=\u0022\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022agree-button eu-cookie-compliance-default-button\u0022\u003EOK, I agree\u003C\/button\u003E\n          \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E\n","mobile_breakpoint":"768","popup_html_agreed":"\u003Cdiv\u003E\n  \u003Cdiv class=\u0022popup-content agreed\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n      \u003Ch2\u003EThank you for accepting cookies\u003C\/h2\u003E\n\u003Cp\u003EYou can now hide this message or find out more about cookies.\u003C\/p\u003E\n    \u003C\/div\u003E\n    \u003Cdiv id=\u0022popup-buttons\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022hide-popup-button eu-cookie-compliance-hide-button\u0022\u003EHide\u003C\/button\u003E\n              \u003Cbutton type=\u0022button\u0022 class=\u0022find-more-button eu-cookie-compliance-more-button-thank-you\u0022 \u003EMore info\u003C\/button\u003E\n          \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E","popup_use_bare_css":false,"popup_height":"auto","popup_width":"100%","popup_delay":1000,"popup_link":"\/privacy-policy","popup_link_new_window":1,"popup_position":null,"fixed_top_position":1,"popup_language":"en","store_consent":false,"better_support_for_screen_readers":0,"reload_page":0,"domain":"","domain_all_sites":null,"popup_eu_only_js":0,"cookie_lifetime":"100","cookie_session":false,"disagree_do_not_show_popup":0,"method":"default","whitelisted_cookies":"","withdraw_markup":"\u003Cbutton type=\u0022button\u0022 class=\u0022eu-cookie-withdraw-tab\u0022\u003EPrivacy settings\u003C\/button\u003E\n\u003Cdiv class=\u0022eu-cookie-withdraw-banner\u0022\u003E\n  \u003Cdiv class=\u0022popup-content info\u0022\u003E\n    \u003Cdiv id=\u0022popup-text\u0022\u003E\n      \u003Cp\u003E\u0026lt;h2\u0026gt;We use cookies on this site to enhance your user experience\u0026lt;\/h2\u0026gt;\u0026lt;p\u0026gt;You have given your consent for us to set cookies.\u0026lt;\/p\u0026gt;\u003C\/p\u003E\n    \u003C\/div\u003E\n    \u003Cdiv id=\u0022popup-buttons\u0022\u003E\n      \u003Cbutton type=\u0022button\u0022 class=\u0022eu-cookie-withdraw-button\u0022\u003EWithdraw consent\u003C\/button\u003E\n    \u003C\/div\u003E\n  \u003C\/div\u003E\n\u003C\/div\u003E\n","withdraw_enabled":false,"withdraw_button_on_info_popup":false,"cookie_categories":[],"enable_save_preferences_button":true,"fix_first_cookie_category":true,"select_all_categories_by_default":false},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"},"urlIsAjaxTrusted":{"\/search\/node":true}});</script>
<script src="../../sites/default/files/advagg_js/js__F2qdh-1_GOHY85WJybNO3pprDd50KfMFbk-UcsLzh0Y___SeDJKIvrikPXIIr55mRB1jrZkJNqFYEnfX8AHNM0No__uNtay9YJwYTDKfp29_kPgazcGHUcn4IsOWjv8kqq3jk.js"></script>
<script>var eu_cookie_compliance_cookie_name = "";</script>
<script src="../../sites/openconcept/themes/oc2014/js/portfolio.js"></script>
</body>

<!-- Mirrored from openconcept.ca/blog/jesse/ubercart-donation-system-moneris-payment-gateway by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Oct 2020 16:24:29 GMT -->
</html>
